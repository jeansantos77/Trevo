<div class="main-body">
    <form [formGroup]="entityForm" novalidate (ngSubmit)="Save()">
        <mat-card>
            <mat-card-header>
                <mat-card-title>{{formName}}</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="20px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Nome</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Nome" formControlName="nome">
                            @if (entityForm.controls['nome'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Email</label>
                        <mat-form-field appearance="outline">
                            <input type="email" matInput placeholder="Email" formControlName="email">
                            @if (entityForm.controls['email'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                            @if (entityForm.controls['email'].hasError('email')) {
                            <mat-error><strong>Email inválido</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>
                </div>

                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="21px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">
                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Telefone</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Telefone" formControlName="telefone" maxlength="50">
                            @if (entityForm.controls['telefone'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>CNPJ</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="CNPJ" formControlName="cnpj" maxlength="18" mask="00.000.000/0000-00">
                            @if (entityForm.controls['cnpj'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>
                </div>

                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="22px" fxLayoutGap.lg="19px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">


                    <div class="col" fxFlex="19" fxFlex.sm="100" fxFlex.xs="100">
                        <label>CEP</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="CEP" formControlName="cep" maxlength="9" mask="00000-000">
                            
                            @if (entityForm.controls['cep'].hasError('required')) {
                                <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="67" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Logradouro</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Logradouro" formControlName="logradouro">
                            @if (entityForm.controls['logradouro'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="10" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Número</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Número" formControlName="numero">
                            
                            @if (entityForm.controls['numero'].hasError('required')) {
                                <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>

                </div>

                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="20px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">
                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Bairro</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Bairro" formControlName="bairro">
                            @if (entityForm.controls['bairro'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Cidade</label>
                        <mat-form-field appearance="outline">
                            <mat-select formControlName="cidadeId">
                                @for (city of cities; track city) {
                                <mat-option [value]="city.id">{{ city.nome }}</mat-option>
                                }
                            </mat-select>

                            @if (entityForm.controls['cidadeId'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>
                    
                </div>

            </mat-card-content>
            <mat-card-actions>
                <button routerLink="{{listPage}}" mat-raised-button type="button">Cancelar</button>
                <button mat-raised-button color="primary" type="submit">Salvar</button>
            </mat-card-actions>
        </mat-card>
    </form>
</div>