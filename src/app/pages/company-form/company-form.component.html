<div class="main-body">
    <form [formGroup]="entityForm" novalidate (ngSubmit)="Save()">
        <mat-card>
            <mat-card-header>
                <mat-card-title>{{formName}}</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="20px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Nome</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Nome" formControlName="name">
                            @if (entityForm.controls['name'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Email</label>
                        <mat-form-field appearance="outline">
                            <input type="email" matInput placeholder="Email" formControlName="email">
                            @if (entityForm.controls['email'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                            @if (entityForm.controls['email'].hasError('email')) {
                            <mat-error><strong>Email inválido</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>
                </div>

                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="21px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">
                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Telefone</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Telefone" formControlName="phone" maxlength="50">
                            @if (entityForm.controls['phone'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>CNPJ</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="CNPJ" formControlName="cnpj" maxlength="18" mask="00.000.000/0000-00">
                            @if (entityForm.controls['cnpj'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>
                </div>

                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="20px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">


                    <div class="col" fxFlex="19" fxFlex.sm="100" fxFlex.xs="100">
                        <label>CEP</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="CEP" formControlName="cep" maxlength="9" mask="00000-000">
                            
                            @if (entityForm.controls['cep'].hasError('required')) {
                                <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="67" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Logradouro</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Logradouro" formControlName="street">
                            @if (entityForm.controls['street'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="10" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Número</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Número" formControlName="number">
                            
                            @if (entityForm.controls['number'].hasError('required')) {
                                <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>

                </div>

                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="20px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">
                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Bairro</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Bairro" formControlName="district">
                            @if (entityForm.controls['district'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Cidade</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Cidade" formControlName="city">
                            
                            @if (entityForm.controls['city'].hasError('required')) {
                                <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>
                </div>


                <div class="row" fxLayout="row wrap" fxLayout.lg="row wrap" fxLayout.md="row wrap" fxLayout.xs="column"
                    fxLayoutGap="21px" fxLayoutGap.lg="15px" fxLayoutGap.md="10px" fxLayoutGap.sm="0px"
                    fxLayoutGap.xs="0px">
                    <div class="col" fxFlex="37" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Estado</label>
                        <mat-form-field appearance="outline">
                            <mat-select formControlName="state">
                                @for (uf of ufs; track uf) {
                                <mat-option [value]="uf">{{ uf }}</mat-option>
                                }
                            </mat-select>

                            @if (entityForm.controls['state'].hasError('required')) {
                            <mat-error><strong>{{requiredMessage}}</strong></mat-error>
                            }

                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="10" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Id Externo</label>
                        <mat-form-field appearance="outline">
                            <input matInput placeholder="Id Externo" formControlName="externalId">
                        </mat-form-field>
                    </div>

                    <div class="col" fxFlex="49" fxFlex.sm="100" fxFlex.xs="100">
                        <label>Situação</label>

                        <mat-form-field appearance="outline">
                            <mat-select value=1 formControlName="active">

                                @for (situation of situations; track situation) {
                                <mat-option [value]="situation.value">{{ situation.description }}</mat-option>
                                }

                            </mat-select>
                        </mat-form-field>


                    </div>
                </div>

            </mat-card-content>
            <mat-card-actions>
                <button routerLink="{{listPage}}" mat-raised-button type="button">Cancelar</button>
                <button mat-raised-button color="primary" type="submit">Salvar</button>
            </mat-card-actions>
        </mat-card>
    </form>
</div>